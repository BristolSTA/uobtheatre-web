#import "../../fragments/booking/DetailedBookingDetails.gql"
mutation payBooking(
  $id: IdInputField!
  $totalPence: Int!
  $nonce: String
  $provider: PaymentMethod
  $idempotencyKey: String
) {
  payBooking(
    bookingId: $id
    nonce: $nonce
    price: $totalPence
    paymentProvider: $provider
    idempotencyKey: $idempotencyKey
  ) {
    success
    errors {
      ... on NonFieldError {
        message
      }
      ... on FieldError {
        message
        field
      }
    }
    payment {
      value
      currency
      cardBrand
      last4
    }
    booking {
      ...DetailedBookingDetails
    }
  }
}
